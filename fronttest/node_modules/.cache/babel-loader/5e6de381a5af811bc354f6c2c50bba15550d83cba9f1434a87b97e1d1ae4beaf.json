{"ast":null,"code":"export const createReadVariableSizeInteger = readVariableSizeIntegerLength => {\n  return (dataView, offset) => {\n    const length = readVariableSizeIntegerLength(dataView, offset);\n    if (length === null) {\n      return length;\n    }\n    const firstDataByteOffset = offset + Math.floor((length - 1) / 8);\n    if (firstDataByteOffset + length > dataView.byteLength) {\n      return null;\n    }\n    const firstDataByte = dataView.getUint8(firstDataByteOffset);\n    let value = firstDataByte & (1 << 8 - length % 8) - 1; // tslint:disable-line:no-bitwise\n    for (let i = 1; i < length; i += 1) {\n      value = (value << 8) + dataView.getUint8(firstDataByteOffset + i); // tslint:disable-line:no-bitwise\n    }\n    return {\n      length,\n      value\n    };\n  };\n};","map":{"version":3,"names":["createReadVariableSizeInteger","readVariableSizeIntegerLength","dataView","offset","length","firstDataByteOffset","Math","floor","byteLength","firstDataByte","getUint8","value","i"],"sources":["/Users/asyuyukiume/AI学習/議事録　テスト/fronttest/node_modules/extendable-media-recorder/src/factories/read-variable-size-integer.ts"],"sourcesContent":["import { TReadVariableSizeIntegerFactory } from '../types';\n\nexport const createReadVariableSizeInteger: TReadVariableSizeIntegerFactory = (readVariableSizeIntegerLength) => {\n    return (dataView, offset) => {\n        const length = readVariableSizeIntegerLength(dataView, offset);\n\n        if (length === null) {\n            return length;\n        }\n\n        const firstDataByteOffset = offset + Math.floor((length - 1) / 8);\n\n        if (firstDataByteOffset + length > dataView.byteLength) {\n            return null;\n        }\n\n        const firstDataByte = dataView.getUint8(firstDataByteOffset);\n\n        let value = firstDataByte & ((1 << (8 - (length % 8))) - 1); // tslint:disable-line:no-bitwise\n\n        for (let i = 1; i < length; i += 1) {\n            value = (value << 8) + dataView.getUint8(firstDataByteOffset + i); // tslint:disable-line:no-bitwise\n        }\n\n        return { length, value };\n    };\n};\n"],"mappings":"AAEA,OAAO,MAAMA,6BAA6B,GAAqCC,6BAA6B,IAAI;EAC5G,OAAO,CAACC,QAAQ,EAAEC,MAAM,KAAI;IACxB,MAAMC,MAAM,GAAGH,6BAA6B,CAACC,QAAQ,EAAEC,MAAM,CAAC;IAE9D,IAAIC,MAAM,KAAK,IAAI,EAAE;MACjB,OAAOA,MAAM;;IAGjB,MAAMC,mBAAmB,GAAGF,MAAM,GAAGG,IAAI,CAACC,KAAK,CAAC,CAACH,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC;IAEjE,IAAIC,mBAAmB,GAAGD,MAAM,GAAGF,QAAQ,CAACM,UAAU,EAAE;MACpD,OAAO,IAAI;;IAGf,MAAMC,aAAa,GAAGP,QAAQ,CAACQ,QAAQ,CAACL,mBAAmB,CAAC;IAE5D,IAAIM,KAAK,GAAGF,aAAa,GAAI,CAAC,CAAC,IAAK,CAAC,GAAIL,MAAM,GAAG,CAAG,IAAI,CAAE,CAAC,CAAC;IAE7D,KAAK,IAAIQ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,MAAM,EAAEQ,CAAC,IAAI,CAAC,EAAE;MAChCD,KAAK,GAAG,CAACA,KAAK,IAAI,CAAC,IAAIT,QAAQ,CAACQ,QAAQ,CAACL,mBAAmB,GAAGO,CAAC,CAAC,CAAC,CAAC;;IAGvE,OAAO;MAAER,MAAM;MAAEO;IAAK,CAAE;EAC5B,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}