{"ast":null,"code":"export const createListener = ongoingRequests => {\n  return ({\n    data: message\n  }) => {\n    const {\n      id\n    } = message;\n    if (id !== null) {\n      const ongoingRequest = ongoingRequests.get(id);\n      if (ongoingRequest !== undefined) {\n        const {\n          reject,\n          resolve\n        } = ongoingRequest;\n        ongoingRequests.delete(id);\n        if (message.error === undefined) {\n          resolve(message.result);\n        } else {\n          reject(new Error(message.error.message));\n        }\n      }\n    }\n  };\n};","map":{"version":3,"names":["createListener","ongoingRequests","data","message","id","ongoingRequest","get","undefined","reject","resolve","delete","error","result","Error"],"sources":["/Users/asyuyukiume/AI学習/議事録　テスト/fronttest/node_modules/recorder-audio-worklet/src/factories/listener.ts"],"sourcesContent":["import type { IWorkerEvent } from 'broker-factory';\nimport type { IWorkerErrorMessage, IWorkerResultMessage } from 'worker-factory';\n\nexport const createListener = (ongoingRequests: Map<number, { reject: Function; resolve: Function }>) => {\n    return ({ data: message }: IWorkerEvent) => {\n        const { id } = message;\n\n        if (id !== null) {\n            const ongoingRequest = ongoingRequests.get(id);\n\n            if (ongoingRequest !== undefined) {\n                const { reject, resolve } = ongoingRequest;\n\n                ongoingRequests.delete(id);\n\n                if ((<IWorkerErrorMessage>message).error === undefined) {\n                    resolve((<IWorkerResultMessage>message).result);\n                } else {\n                    reject(new Error((<IWorkerErrorMessage>message).error.message));\n                }\n            }\n        }\n    };\n};\n"],"mappings":"AAGA,OAAO,MAAMA,cAAc,GAAIC,eAAqE,IAAI;EACpG,OAAO,CAAC;IAAEC,IAAI,EAAEC;EAAO,CAAgB,KAAI;IACvC,MAAM;MAAEC;IAAE,CAAE,GAAGD,OAAO;IAEtB,IAAIC,EAAE,KAAK,IAAI,EAAE;MACb,MAAMC,cAAc,GAAGJ,eAAe,CAACK,GAAG,CAACF,EAAE,CAAC;MAE9C,IAAIC,cAAc,KAAKE,SAAS,EAAE;QAC9B,MAAM;UAAEC,MAAM;UAAEC;QAAO,CAAE,GAAGJ,cAAc;QAE1CJ,eAAe,CAACS,MAAM,CAACN,EAAE,CAAC;QAE1B,IAA0BD,OAAQ,CAACQ,KAAK,KAAKJ,SAAS,EAAE;UACpDE,OAAO,CAAwBN,OAAQ,CAACS,MAAM,CAAC;SAClD,MAAM;UACHJ,MAAM,CAAC,IAAIK,KAAK,CAAuBV,OAAQ,CAACQ,KAAK,CAACR,OAAO,CAAC,CAAC;;;;EAI/E,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}