{"ast":null,"code":"import { createMessageHandler } from './helpers/create-message-handler';\nimport { extendWorkerImplementation } from './helpers/extend-worker-implementation';\nimport { isSupportingTransferables } from './helpers/is-supporting-transferables';\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\nexport const createWorker = (receiver, workerImplementation, isSupportedFunction = () => true) => {\n  const fullWorkerImplementation = extendWorkerImplementation(createWorker, workerImplementation, isSupportedFunction);\n  const messageHandler = createMessageHandler(receiver, fullWorkerImplementation);\n  receiver.addEventListener('message', messageHandler);\n  return () => receiver.removeEventListener('message', messageHandler);\n};\nexport { isSupportingTransferables as isSupported };","map":{"version":3,"names":["createMessageHandler","extendWorkerImplementation","isSupportingTransferables","createWorker","receiver","workerImplementation","isSupportedFunction","fullWorkerImplementation","messageHandler","addEventListener","removeEventListener","isSupported"],"sources":["/Users/asyuyukiume/AI学習/議事録　テスト/fronttest/node_modules/recorder-audio-worklet/node_modules/worker-factory/src/module.ts"],"sourcesContent":["import { createMessageHandler } from './helpers/create-message-handler';\nimport { extendWorkerImplementation } from './helpers/extend-worker-implementation';\nimport { isSupportingTransferables } from './helpers/is-supporting-transferables';\nimport { IReceiver, IWorkerDefinition } from './interfaces';\nimport { TDestroyWorkerFunction, TWorkerImplementation } from './types';\n\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\n\nexport const createWorker = <T extends IWorkerDefinition>(\n    receiver: IReceiver,\n    workerImplementation: TWorkerImplementation<T>,\n    isSupportedFunction: () => boolean | Promise<boolean> = () => true\n): TDestroyWorkerFunction => {\n    const fullWorkerImplementation = extendWorkerImplementation<T>(createWorker, workerImplementation, isSupportedFunction);\n    const messageHandler = createMessageHandler(receiver, fullWorkerImplementation);\n\n    receiver.addEventListener('message', messageHandler);\n\n    return () => receiver.removeEventListener('message', messageHandler);\n};\n\nexport { isSupportingTransferables as isSupported };\n"],"mappings":"AAAA,SAASA,oBAAoB,QAAQ,kCAAkC;AACvE,SAASC,0BAA0B,QAAQ,wCAAwC;AACnF,SAASC,yBAAyB,QAAQ,uCAAuC;AAIjF;;;;AAIA,cAAc,oBAAoB;AAClC,cAAc,eAAe;AAE7B,OAAO,MAAMC,YAAY,GAAGA,CACxBC,QAAmB,EACnBC,oBAA8C,EAC9CC,mBAAA,GAAwDA,CAAA,KAAM,IAAI,KAC1C;EACxB,MAAMC,wBAAwB,GAAGN,0BAA0B,CAAIE,YAAY,EAAEE,oBAAoB,EAAEC,mBAAmB,CAAC;EACvH,MAAME,cAAc,GAAGR,oBAAoB,CAACI,QAAQ,EAAEG,wBAAwB,CAAC;EAE/EH,QAAQ,CAACK,gBAAgB,CAAC,SAAS,EAAED,cAAc,CAAC;EAEpD,OAAO,MAAMJ,QAAQ,CAACM,mBAAmB,CAAC,SAAS,EAAEF,cAAc,CAAC;AACxE,CAAC;AAED,SAASN,yBAAyB,IAAIS,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}