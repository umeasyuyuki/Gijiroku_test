{"ast":null,"code":"export const createPostMessageFactory = generateUniqueNumber => {\n  return (ongoingRequests, port) => {\n    return (message, transferables = []) => {\n      return new Promise((resolve, reject) => {\n        const id = generateUniqueNumber(ongoingRequests);\n        ongoingRequests.set(id, {\n          reject,\n          resolve\n        });\n        port.postMessage({\n          id,\n          ...message\n        }, transferables);\n      });\n    };\n  };\n};","map":{"version":3,"names":["createPostMessageFactory","generateUniqueNumber","ongoingRequests","port","message","transferables","Promise","resolve","reject","id","set","postMessage"],"sources":["/Users/asyuyukiume/AI学習/議事録　テスト/fronttest/node_modules/recorder-audio-worklet/src/factories/post-message-factory.ts"],"sourcesContent":["import type { generateUniqueNumber as generateUniqueNumberFunction } from 'fast-unique-numbers';\n\nexport const createPostMessageFactory = (generateUniqueNumber: typeof generateUniqueNumberFunction) => {\n    return (ongoingRequests: Map<number, { reject: Function; resolve: Function }>, port: MessagePort) => {\n        return (message: { method: string; params?: object }, transferables: Transferable[] = []): Promise<void> => {\n            return new Promise((resolve, reject) => {\n                const id = generateUniqueNumber(ongoingRequests);\n\n                ongoingRequests.set(id, { reject, resolve });\n\n                port.postMessage({ id, ...message }, transferables);\n            });\n        };\n    };\n};\n"],"mappings":"AAEA,OAAO,MAAMA,wBAAwB,GAAIC,oBAAyD,IAAI;EAClG,OAAO,CAACC,eAAqE,EAAEC,IAAiB,KAAI;IAChG,OAAO,CAACC,OAA4C,EAAEC,aAAA,GAAgC,EAAE,KAAmB;MACvG,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAI;QACnC,MAAMC,EAAE,GAAGR,oBAAoB,CAACC,eAAe,CAAC;QAEhDA,eAAe,CAACQ,GAAG,CAACD,EAAE,EAAE;UAAED,MAAM;UAAED;QAAO,CAAE,CAAC;QAE5CJ,IAAI,CAACQ,WAAW,CAAC;UAAEF,EAAE;UAAE,GAAGL;QAAO,CAAE,EAAEC,aAAa,CAAC;MACvD,CAAC,CAAC;IACN,CAAC;EACL,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}