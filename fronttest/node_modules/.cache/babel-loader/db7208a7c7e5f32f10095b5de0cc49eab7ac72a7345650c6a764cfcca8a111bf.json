{"ast":null,"code":"export const createVideoFrame = (emitNotSupportedError, wrapSubscribeFunction) => {\n  return videoElement => wrapSubscribeFunction(observer => {\n    if (videoElement.cancelVideoFrameCallback === undefined || videoElement.requestVideoFrameCallback === undefined) {\n      return emitNotSupportedError(observer);\n    }\n    let videoFrameHandle = videoElement.requestVideoFrameCallback(function videoFrameCallback(now, metadata) {\n      videoFrameHandle = videoElement.requestVideoFrameCallback(videoFrameCallback);\n      observer.next({\n        ...metadata,\n        now\n      });\n    });\n    return () => videoElement.cancelVideoFrameCallback(videoFrameHandle);\n  });\n};","map":{"version":3,"names":["createVideoFrame","emitNotSupportedError","wrapSubscribeFunction","videoElement","observer","cancelVideoFrameCallback","undefined","requestVideoFrameCallback","videoFrameHandle","videoFrameCallback","now","metadata","next"],"sources":["/Users/asyuyukiume/AI学習/議事録　テスト/fronttest/node_modules/subscribable-things/src/factories/video-frame.ts"],"sourcesContent":["import { TVideoFrameFactory } from '../types';\n\nexport const createVideoFrame: TVideoFrameFactory = (emitNotSupportedError, wrapSubscribeFunction) => {\n    return (videoElement) =>\n        wrapSubscribeFunction((observer) => {\n            if (videoElement.cancelVideoFrameCallback === undefined || videoElement.requestVideoFrameCallback === undefined) {\n                return emitNotSupportedError(observer);\n            }\n\n            let videoFrameHandle = videoElement.requestVideoFrameCallback(function videoFrameCallback(now, metadata): void {\n                videoFrameHandle = videoElement.requestVideoFrameCallback(videoFrameCallback);\n\n                observer.next({ ...metadata, now });\n            });\n\n            return () => videoElement.cancelVideoFrameCallback(videoFrameHandle);\n        });\n};\n"],"mappings":"AAEA,OAAO,MAAMA,gBAAgB,GAAuBA,CAACC,qBAAqB,EAAEC,qBAAqB,KAAI;EACjG,OAAQC,YAAY,IAChBD,qBAAqB,CAAEE,QAAQ,IAAI;IAC/B,IAAID,YAAY,CAACE,wBAAwB,KAAKC,SAAS,IAAIH,YAAY,CAACI,yBAAyB,KAAKD,SAAS,EAAE;MAC7G,OAAOL,qBAAqB,CAACG,QAAQ,CAAC;IAC1C;IAEA,IAAII,gBAAgB,GAAGL,YAAY,CAACI,yBAAyB,CAAC,SAASE,kBAAkBA,CAACC,GAAG,EAAEC,QAAQ;MACnGH,gBAAgB,GAAGL,YAAY,CAACI,yBAAyB,CAACE,kBAAkB,CAAC;MAE7EL,QAAQ,CAACQ,IAAI,CAAC;QAAE,GAAGD,QAAQ;QAAED;MAAG,CAAE,CAAC;IACvC,CAAC,CAAC;IAEF,OAAO,MAAMP,YAAY,CAACE,wBAAwB,CAACG,gBAAgB,CAAC;EACxE,CAAC,CAAC;AACV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}