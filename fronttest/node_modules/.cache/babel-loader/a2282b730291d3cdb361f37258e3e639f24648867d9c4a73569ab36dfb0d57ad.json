{"ast":null,"code":"export const createGeolocation = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n  return options => wrapSubscribeFunction(observer => {\n    if (window === null || window.navigator === undefined || window.navigator.geolocation === undefined || window.navigator.geolocation.clearWatch === undefined || window.navigator.geolocation.watchPosition === undefined) {\n      return emitNotSupportedError(observer);\n    }\n    const watchId = window.navigator.geolocation.watchPosition(position => observer.next(position), err => observer.error(err), options);\n    return () => window.navigator.geolocation.clearWatch(watchId);\n  });\n};","map":{"version":3,"names":["createGeolocation","emitNotSupportedError","window","wrapSubscribeFunction","options","observer","navigator","undefined","geolocation","clearWatch","watchPosition","watchId","position","next","err","error"],"sources":["/Users/asyuyukiume/AI学習/議事録　テスト/fronttest/node_modules/subscribable-things/src/factories/geolocation.ts"],"sourcesContent":["import { TEmitNotSupportedErrorFunction, TSubscribableThing, TWindow, TWrapSubscribeFunctionFunction } from '../types';\n\nexport const createGeolocation = (\n    emitNotSupportedError: TEmitNotSupportedErrorFunction,\n    window: null | TWindow,\n    wrapSubscribeFunction: TWrapSubscribeFunctionFunction\n) => {\n    return (options?: PositionOptions): TSubscribableThing<GeolocationPosition> =>\n        wrapSubscribeFunction((observer) => {\n            if (\n                window === null ||\n                window.navigator === undefined ||\n                window.navigator.geolocation === undefined ||\n                window.navigator.geolocation.clearWatch === undefined ||\n                window.navigator.geolocation.watchPosition === undefined\n            ) {\n                return emitNotSupportedError(observer);\n            }\n\n            const watchId = window.navigator.geolocation.watchPosition(\n                (position) => observer.next(position),\n                (err) => observer.error(err),\n                options\n            );\n\n            return () => window.navigator.geolocation.clearWatch(watchId);\n        });\n};\n"],"mappings":"AAEA,OAAO,MAAMA,iBAAiB,GAAGA,CAC7BC,qBAAqD,EACrDC,MAAsB,EACtBC,qBAAqD,KACrD;EACA,OAAQC,OAAyB,IAC7BD,qBAAqB,CAAEE,QAAQ,IAAI;IAC/B,IACIH,MAAM,KAAK,IAAI,IACfA,MAAM,CAACI,SAAS,KAAKC,SAAS,IAC9BL,MAAM,CAACI,SAAS,CAACE,WAAW,KAAKD,SAAS,IAC1CL,MAAM,CAACI,SAAS,CAACE,WAAW,CAACC,UAAU,KAAKF,SAAS,IACrDL,MAAM,CAACI,SAAS,CAACE,WAAW,CAACE,aAAa,KAAKH,SAAS,EAC1D;MACE,OAAON,qBAAqB,CAACI,QAAQ,CAAC;IAC1C;IAEA,MAAMM,OAAO,GAAGT,MAAM,CAACI,SAAS,CAACE,WAAW,CAACE,aAAa,CACrDE,QAAQ,IAAKP,QAAQ,CAACQ,IAAI,CAACD,QAAQ,CAAC,EACpCE,GAAG,IAAKT,QAAQ,CAACU,KAAK,CAACD,GAAG,CAAC,EAC5BV,OAAO,CACV;IAED,OAAO,MAAMF,MAAM,CAACI,SAAS,CAACE,WAAW,CAACC,UAAU,CAACE,OAAO,CAAC;EACjE,CAAC,CAAC;AACV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}