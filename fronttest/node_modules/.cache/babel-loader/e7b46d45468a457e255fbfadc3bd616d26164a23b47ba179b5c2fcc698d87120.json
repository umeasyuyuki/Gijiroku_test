{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import Tree from'react-d3-tree';// ======== MUI & その他 ========\nimport{AppBar,Toolbar,Typography,Button,Drawer,List,ListItemButton,ListItemText,Box,Paper,TextField,Dialog,DialogTitle,DialogContent,DialogContentText,DialogActions,CircularProgress,IconButton}from'@mui/material';import{createTheme,ThemeProvider}from'@mui/material/styles';import{motion,AnimatePresence}from'framer-motion';import ContentCopyIcon from'@mui/icons-material/ContentCopy';/** テーマ設定 */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const theme=createTheme({palette:{primary:{main:'#1976d2'},secondary:{main:'#00f2fe'}},typography:{fontFamily:['Montserrat','Playfair Display','Roboto','\"Helvetica Neue\"','Arial','sans-serif'].join(',')}});// アニメーション用バリアント\nconst fadeInVariants={hidden:{opacity:0,y:-10},visible:{opacity:1,y:0,transition:{duration:0.5}}};/**\n * 枝のカスタム描画用コンポーネント\n * ここで linkDatum.source.depth などを使って色を分岐させる\n */const colorPalette=['#cc00cc','#ff4500','#00aaff','#ff00ff','#ff8c00','#228b22'];function CustomColoredLink(_ref){let{linkDatum,orientation}=_ref;// 階層（depth）に応じて色を切り替えたり、あるいは子ノードの情報で分岐させてもOK\nconst strokeColor=colorPalette[linkDatum.source.depth%colorPalette.length];// \"diagonal\" パス計算（横向きレイアウト用）\n// ここでは簡易的にベジェ曲線で左右に伸びる対角線を作成\nconst{source,target}=linkDatum;// x=横軸, y=縦軸で、横向きの場合は X が左右, Y が上下\nconst path=`M${source.x},${source.y}\n                C${(source.x+target.x)/2},${source.y},\n                ${(source.x+target.x)/2},${target.y},\n                ${target.x},${target.y}`;return/*#__PURE__*/_jsx(\"path\",{d:path,fill:\"none\",stroke:strokeColor,strokeWidth:\"3\"});}function App(){const API_URL=\"http://localhost:8000\";// --------------------------\n// ステート類（議事録表示・生成）\n// --------------------------\nconst[notes,setNotes]=useState('ここに文字起こしが表示されます');const[summary,setSummary]=useState('ここに議事録・改善案が表示されます');const[mindmapData,setMindmapData]=useState(null);const[title,setTitle]=useState('');const[recording,setRecording]=useState(false);const[recorded,setRecorded]=useState(false);const[showSaveModal,setShowSaveModal]=useState(false);const[loading,setLoading]=useState(false);const[saveStatus,setSaveStatus]=useState(null);// 保存済み議事録\nconst[savedMinutes,setSavedMinutes]=useState([]);const[selectedMinute,setSelectedMinute]=useState(null);const[sidebarOpen,setSidebarOpen]=useState(true);// 録音関連\nconst mediaRecorderRef=useRef(null);const mediaStreamRef=useRef(null);const[audioChunks,setAudioChunks]=useState([]);const localChunksRef=useRef([]);// 録音時間カウンター\nconst[recordingTime,setRecordingTime]=useState(0);const recordingTimerRef=useRef(null);// モード: audio / text / chat\nconst[mode,setMode]=useState(\"audio\");const[inputTranscript,setInputTranscript]=useState(\"\");// チャットモード\nconst[chatMessages,setChatMessages]=useState([]);const[chatInput,setChatInput]=useState(\"\");const[chatLoading,setChatLoading]=useState(false);// --------------------------\n// 1) 保存済み議事録を取得\n// --------------------------\nconst fetchSavedMinutes=async()=>{try{const res=await fetch(`${API_URL}/get-minutes`);if(!res.ok)throw new Error('保存された議事録の取得に失敗しました');const data=await res.json();const sorted=data.minutes.sort((a,b)=>b.id-a.id);setSavedMinutes(sorted);}catch(error){console.error('Error fetching saved minutes:',error);}};useEffect(()=>{fetchSavedMinutes();},[]);/**\n   * ブラウザがサポートする録音mimeTypeを順に探す\n   */function getSupportedMimeType(){const possibleTypes=[\"audio/webm;codecs=opus\",\"audio/ogg;codecs=opus\",\"audio/webm\",\"audio/ogg\"];for(const t of possibleTypes){if(MediaRecorder.isTypeSupported(t)){return t;}}return\"\";}// 録音時間を mm:ss フォーマットに変換\nconst formatRecordingTime=seconds=>{const m=Math.floor(seconds/60);const s=seconds%60;return`${m}:${s.toString().padStart(2,'0')}`;};// ====================================================\n// 録音開始\n// ====================================================\nconst startRecording=async()=>{setRecording(true);setRecorded(false);setAudioChunks([]);localChunksRef.current=[];setNotes('録音が開始されました');setSummary('会議中...');setRecordingTime(0);try{const stream=await navigator.mediaDevices.getUserMedia({audio:true});mediaStreamRef.current=stream;// 録音時間カウント開始\nrecordingTimerRef.current=setInterval(()=>{setRecordingTime(prev=>prev+1);},1000);const mimeType=getSupportedMimeType()||\"audio/webm\";const mediaRecorder=new MediaRecorder(stream,{mimeType});mediaRecorder.ondataavailable=e=>{if(e.data.size>0){localChunksRef.current.push(e.data);}};mediaRecorder.onstop=async()=>{// タイマー停止\nif(recordingTimerRef.current){clearInterval(recordingTimerRef.current);recordingTimerRef.current=null;}const blob=new Blob(localChunksRef.current,{type:mimeType});localChunksRef.current=[];setAudioChunks(prev=>[...prev,blob]);console.log(\"🎙️ 録音終了: Blob 作成済み\",blob.size);setRecording(false);setRecorded(true);setNotes(\"録音が停止しました。文字起こしを準備中...\");// サーバー送信\nawait sendAudioToServer(blob);};mediaRecorderRef.current=mediaRecorder;mediaRecorder.start();console.log(\"🎙️ 録音開始\");}catch(err){console.error('録音開始失敗:',err);setNotes('録音開始に失敗しました: '+err.message);setRecording(false);}};// ====================================================\n// 録音停止\n// ====================================================\nconst stopRecording=async()=>{if(recordingTimerRef.current){clearInterval(recordingTimerRef.current);recordingTimerRef.current=null;}if(mediaRecorderRef.current&&mediaRecorderRef.current.state===\"recording\"){mediaRecorderRef.current.stop();}if(mediaStreamRef.current){mediaStreamRef.current.getTracks().forEach(track=>track.stop());}console.log(\"🛑 録音停止要求\");};// --------------------------\n// 録音データをサーバーに送信\n// --------------------------\nconst sendAudioToServer=async audioBlob=>{setLoading(true);try{const formData=new FormData();formData.append('audio',new File([audioBlob],'recording.webm',{type:audioBlob.type}));console.log(\"📤 /transcribe へ POST. blobSize=\",audioBlob.size);const res=await fetch(`${API_URL}/transcribe`,{method:'POST',body:formData});if(!res.ok){throw new Error(`サーバーエラー: ${res.statusText}`);}const data=await res.json();console.log(\"🧠 文字起こし & 議事録結果:\",data);setNotes(data.formatted_transcript);setSummary(data.analysis);setMindmapData(data.mindmap);setTitle(data.title);}catch(err){console.error('通信エラー:',err);setNotes('通信エラーが発生しました');}finally{setLoading(false);}};// ====================================================\n// テキストモード: 議事録生成\n// ====================================================\nconst sendTextToServer=async()=>{if(!inputTranscript.trim()){alert(\"テキストが空です。\");return;}try{setLoading(true);const res=await fetch(`${API_URL}/transcribe-text`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({raw_text:inputTranscript})});if(!res.ok)throw new Error(`サーバーエラー: ${res.statusText}`);const data=await res.json();setNotes(data.formatted_transcript);setSummary(data.analysis);setMindmapData(data.mindmap);setTitle(data.title);setRecorded(true);}catch(err){console.error('テキストモード失敗:',err);setNotes('テキスト議事録の生成中にエラーが発生しました。');}finally{setLoading(false);}};// --------------------------\n// 保存・削除など\n// --------------------------\nconst saveToDatabase=async()=>{try{const res=await fetch(`${API_URL}/save-minutes`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({formatted_transcript:notes,analysis:summary,mindmap:mindmapData,title:title})});if(!res.ok){const errorText=await res.text();throw new Error(`保存に失敗しました: ${errorText}`);}const result=await res.json();if(result.status==='success'){setSaveStatus('保存が完了しました！');setShowSaveModal(false);fetchSavedMinutes();}else{setSaveStatus('保存に失敗しました: '+(result.detail||''));}}catch(err){console.error('保存失敗:',err);setSaveStatus(err.message||'保存中にエラーが発生しました');}};const deleteMinutes=async id=>{if(!window.confirm(\"本当に削除しますか？\"))return;try{const res=await fetch(`${API_URL}/delete-minutes/${id}`,{method:'DELETE'});if(!res.ok){const errorText=await res.text();throw new Error(`削除に失敗しました: ${errorText}`);}const result=await res.json();if(result.status==='success'){alert('削除しました');fetchSavedMinutes();if(selectedMinute&&selectedMinute.id===id){setSelectedMinute(null);}}else{alert('削除に失敗: '+result.detail);}}catch(err){console.error('削除エラー:',err);alert('削除中にエラーが発生しました');}};const handleCopyContent=async content=>{try{await navigator.clipboard.writeText(content);alert('コピーしました!');}catch(err){console.error('コピー失敗:',err);alert('コピーに失敗しました');}};// --------------------------\n// チャットモード\n// --------------------------\nconst sendChatMessage=async()=>{if(!chatInput.trim())return;const userMsg={sender:'user',text:chatInput};setChatMessages(prev=>[...prev,userMsg]);setChatInput(\"\");try{setChatLoading(true);const res=await fetch(`${API_URL}/chatbot`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({message:userMsg.text})});if(!res.ok){throw new Error(`サーバーエラー: ${res.statusText}`);}const data=await res.json();const botMsg={sender:'bot',text:data.response};setChatMessages(prev=>[...prev,botMsg]);}catch(err){console.error(\"チャットbotエラー:\",err);const botMsg={sender:'bot',text:\"エラーが発生しました。\"};setChatMessages(prev=>[...prev,botMsg]);}finally{setChatLoading(false);}};// その他\nconst closeSaveModal=()=>{setSaveStatus(null);};const toggleSidebar=()=>{setSidebarOpen(!sidebarOpen);};return/*#__PURE__*/_jsx(ThemeProvider,{theme:theme,children:/*#__PURE__*/_jsxs(Box,{sx:{minHeight:'100vh',background:'linear-gradient(to bottom right, #f0f9ff, #cfe9ff, #eef6ff)',position:'relative'},children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:toggleSidebar,sx:{position:'absolute',left:10,top:20,borderRadius:'50%',width:45,minWidth:45,height:45,fontSize:'1rem',zIndex:2000},children:sidebarOpen?'←':'→'}),/*#__PURE__*/_jsx(AppBar,{position:\"sticky\",sx:{bgcolor:'rgba(255,255,255,0.8)',backdropFilter:'blur(8px)'},children:/*#__PURE__*/_jsx(Toolbar,{sx:{justifyContent:'center'},children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",sx:{color:'primary.main',fontWeight:'bold'},children:\"Conect AI\"})})}),/*#__PURE__*/_jsx(Drawer,{variant:\"persistent\",anchor:\"left\",open:sidebarOpen,sx:{'& .MuiDrawer-paper':{width:240,boxSizing:'border-box',borderRight:'1px solid #eee',bgcolor:'rgba(255,255,255,0.85)',backdropFilter:'blur(6px)',pt:8}},children:/*#__PURE__*/_jsxs(Box,{sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",sx:{mb:1,fontWeight:'bold',color:'#1976d2'},children:\"\\u4FDD\\u5B58\\u3057\\u305F\\u8B70\\u4E8B\\u9332\"}),/*#__PURE__*/_jsx(List,{children:savedMinutes.length>0?savedMinutes.map(minute=>/*#__PURE__*/_jsx(ListItemButton,{onClick:()=>{setSelectedMinute(minute);setShowSaveModal(false);},children:/*#__PURE__*/_jsx(ListItemText,{primary:minute.title})},minute.id)):/*#__PURE__*/_jsx(ListItemButton,{children:/*#__PURE__*/_jsx(ListItemText,{primary:\"\\u4FDD\\u5B58\\u3055\\u308C\\u305F\\u8B70\\u4E8B\\u9332\\u306F\\u3042\\u308A\\u307E\\u305B\\u3093\"})})})]})}),/*#__PURE__*/_jsxs(Box,{sx:{ml:sidebarOpen?'240px':2,p:3,pt:10,transition:'margin-left 0.3s ease'},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'center',gap:2,mb:3},children:[/*#__PURE__*/_jsx(Button,{variant:mode==='audio'?'contained':'outlined',sx:{borderRadius:3,px:4,py:1,fontWeight:'bold'},onClick:()=>setMode('audio'),children:\"\\u97F3\\u58F0\\u30E2\\u30FC\\u30C9\"}),/*#__PURE__*/_jsx(Button,{variant:mode==='text'?'contained':'outlined',sx:{borderRadius:3,px:4,py:1,fontWeight:'bold'},onClick:()=>setMode('text'),children:\"\\u30C6\\u30AD\\u30B9\\u30C8\\u30E2\\u30FC\\u30C9\"}),/*#__PURE__*/_jsx(Button,{variant:mode==='chat'?'contained':'outlined',sx:{borderRadius:3,px:4,py:1,fontWeight:'bold'},onClick:()=>setMode('chat'),children:\"\\u30C1\\u30E3\\u30C3\\u30C8\\u30E2\\u30FC\\u30C9\"})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:selectedMinute?/*#__PURE__*/// --------------------------\n// 保存済み議事録の詳細表示\n// --------------------------\n_jsxs(motion.div,{variants:fadeInVariants,initial:\"hidden\",animate:\"visible\",exit:{opacity:0},style:{position:'relative'},children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:()=>setSelectedMinute(null),sx:{position:'absolute',left:10,top:10,borderRadius:3,px:4,py:1,fontWeight:'bold',zIndex:1000},children:\"\\u623B\\u308B\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",sx:{fontWeight:'bold',color:'primary.main',textAlign:'center',mb:4},children:selectedMinute.title}),/*#__PURE__*/_jsxs(Paper,{sx:{p:3,mb:3,position:'relative',borderRadius:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",sx:{fontWeight:'bold',color:'secondary.main',mb:2,fontSize:'1.2rem'},children:\"\\u6574\\u5F62\\u3055\\u308C\\u305F\\u6587\\u5B57\\u8D77\\u3053\\u3057\"}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",sx:{position:'absolute',top:8,right:8},onClick:()=>handleCopyContent(selectedMinute.formatted_transcript),children:/*#__PURE__*/_jsx(ContentCopyIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{fontSize:'1.1rem',fontWeight:'bold',lineHeight:1.6,whiteSpace:'pre-wrap'},children:selectedMinute.formatted_transcript})]}),/*#__PURE__*/_jsxs(Paper,{sx:{p:3,mb:3,position:'relative',borderRadius:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",sx:{fontWeight:'bold',color:'secondary.main',mb:2,fontSize:'1.2rem'},children:\"\\u8B70\\u4E8B\\u9332\\u30FB\\u6539\\u5584\\u6848\"}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",sx:{position:'absolute',top:8,right:8},onClick:()=>handleCopyContent(selectedMinute.analysis),children:/*#__PURE__*/_jsx(ContentCopyIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{fontSize:'1.1rem',fontWeight:'bold',lineHeight:1.6,whiteSpace:'pre-wrap'},children:selectedMinute.analysis})]}),selectedMinute.mindmap&&/*#__PURE__*/_jsxs(Paper,{sx:{p:3,mb:3,borderRadius:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",sx:{fontWeight:'bold',color:'secondary.main',mb:2,fontSize:'1.2rem'},children:\"\\u30DE\\u30A4\\u30F3\\u30C9\\u30DE\\u30C3\\u30D7\"}),/*#__PURE__*/_jsx(Box,{sx:{border:'1px solid #ccc',borderRadius:2,height:'600px',overflow:'auto'},children:/*#__PURE__*/_jsx(Tree,{data:selectedMinute.mindmap,orientation:\"horizontal\",translate:{x:400,y:300},renderCustomLinkElement:rd3tProps=>/*#__PURE__*/_jsx(CustomColoredLink,{...rd3tProps})// separation でノード間隔を調整\n,separation:{siblings:1.3,nonSiblings:1.4}// デフォルトパスの代わりに自分で描画するので pathFunc は無効でもOK\n,pathFunc:\"diagonal\"// ノードサイズを大きめに\n,nodeSize:{x:180,y:200}})})]}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"error\",onClick:()=>deleteMinutes(selectedMinute.id),sx:{borderRadius:3,px:4,py:1,fontWeight:'bold'},children:\"\\u3053\\u306E\\u8B70\\u4E8B\\u9332\\u3092\\u524A\\u9664\"})})]},\"detailView\"):/*#__PURE__*/// --------------------------\n// 新規録音 or テキスト or チャット\n// --------------------------\n_jsxs(motion.div,{variants:fadeInVariants,initial:\"hidden\",animate:\"visible\",exit:{opacity:0},children:[mode===\"audio\"&&/*#__PURE__*/_jsxs(Paper,{sx:{p:4,mb:4,borderRadius:3},elevation:3,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",sx:{textAlign:'center',mb:3,color:'primary.main',fontWeight:'bold'},children:\"\\u97F3\\u58F0\\u30E2\\u30FC\\u30C9\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',alignItems:'center',gap:2},children:[!recording?/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:startRecording,sx:{borderRadius:3,px:4,py:1,fontWeight:'bold'},children:\"\\u9332\\u97F3\\u958B\\u59CB\"}):/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",onClick:stopRecording,sx:{borderRadius:3,px:4,py:1,fontWeight:'bold'},children:\"\\u9332\\u97F3\\u505C\\u6B62\"}),recording&&/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",sx:{mt:1,fontWeight:'bold',fontSize:'1rem'},children:[\"\\u9332\\u97F3\\u4E2D... (\",formatRecordingTime(recordingTime),\")\"]})]}),recorded&&/*#__PURE__*/_jsxs(Box,{sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mb:2,color:'primary.main',fontWeight:'bold'},children:\"\\u751F\\u6210\\u7D50\\u679C\\u30D7\\u30EC\\u30D3\\u30E5\\u30FC\"}),/*#__PURE__*/_jsx(TextField,{label:\"\\u30BF\\u30A4\\u30C8\\u30EB\",fullWidth:true,variant:\"outlined\",size:\"small\",value:title,onChange:e=>setTitle(e.target.value),sx:{mb:2}}),/*#__PURE__*/_jsx(Typography,{sx:{fontWeight:'bold',mb:1},children:\"\\u6587\\u5B57\\u8D77\\u3053\\u3057\"}),/*#__PURE__*/_jsx(TextField,{multiline:true,rows:3,fullWidth:true,variant:\"outlined\",size:\"small\",value:notes,onChange:e=>setNotes(e.target.value),sx:{mb:2}}),/*#__PURE__*/_jsx(Typography,{sx:{fontWeight:'bold',mb:1},children:\"\\u8B70\\u4E8B\\u9332\\u30FB\\u6539\\u5584\\u6848\"}),/*#__PURE__*/_jsx(TextField,{multiline:true,rows:3,fullWidth:true,variant:\"outlined\",size:\"small\",value:summary,onChange:e=>setSummary(e.target.value),sx:{mb:2}}),mindmapData&&/*#__PURE__*/_jsx(Box,{sx:{border:'1px solid #ccc',borderRadius:2,height:300,overflow:'auto',p:1},children:/*#__PURE__*/_jsx(Tree,{data:mindmapData,orientation:\"horizontal\",translate:{x:300,y:150},renderCustomLinkElement:rd3tProps=>/*#__PURE__*/_jsx(CustomColoredLink,{...rd3tProps}),separation:{siblings:1.3,nonSiblings:1.4},pathFunc:\"diagonal\",nodeSize:{x:180,y:150}})}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"success\",sx:{mt:2,borderRadius:3,px:4,py:1,fontWeight:'bold'},onClick:()=>setShowSaveModal(true),children:\"\\u78BA\\u8A8D\\u753B\\u9762\\u3078\"})]})]}),mode===\"text\"&&/*#__PURE__*/_jsxs(Paper,{sx:{p:4,mb:4,borderRadius:3},elevation:3,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",sx:{textAlign:'center',mb:3,color:'primary.main',fontWeight:'bold'},children:\"\\u30C6\\u30AD\\u30B9\\u30C8\\u30E2\\u30FC\\u30C9\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',alignItems:'center',gap:2},children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,rows:4,variant:\"outlined\",size:\"small\",sx:{maxWidth:'600px',fontSize:'1.1rem',fontWeight:'bold',borderRadius:2},value:inputTranscript,onChange:e=>setInputTranscript(e.target.value),placeholder:\"\\u3053\\u3053\\u306B\\u30C6\\u30AD\\u30B9\\u30C8\\u3092\\u8CBC\\u308A\\u4ED8\\u3051\\u3066\\u304F\\u3060\\u3055\\u3044\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:sendTextToServer,sx:{borderRadius:3,px:4,py:1,fontWeight:'bold'},children:\"\\u8B70\\u4E8B\\u9332\\u751F\\u6210\"})]}),recorded&&/*#__PURE__*/_jsxs(Box,{sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mb:2,color:'primary.main',fontWeight:'bold'},children:\"\\u751F\\u6210\\u7D50\\u679C\\u30D7\\u30EC\\u30D3\\u30E5\\u30FC\"}),/*#__PURE__*/_jsx(TextField,{label:\"\\u30BF\\u30A4\\u30C8\\u30EB\",fullWidth:true,variant:\"outlined\",size:\"small\",value:title,onChange:e=>setTitle(e.target.value),sx:{mb:2}}),/*#__PURE__*/_jsx(Typography,{sx:{fontWeight:'bold',mb:1},children:\"\\u6587\\u5B57\\u8D77\\u3053\\u3057\"}),/*#__PURE__*/_jsx(TextField,{multiline:true,rows:3,fullWidth:true,variant:\"outlined\",size:\"small\",value:notes,onChange:e=>setNotes(e.target.value),sx:{mb:2}}),/*#__PURE__*/_jsx(Typography,{sx:{fontWeight:'bold',mb:1},children:\"\\u8B70\\u4E8B\\u9332\\u30FB\\u6539\\u5584\\u6848\"}),/*#__PURE__*/_jsx(TextField,{multiline:true,rows:3,fullWidth:true,variant:\"outlined\",size:\"small\",value:summary,onChange:e=>setSummary(e.target.value),sx:{mb:2}}),mindmapData&&/*#__PURE__*/_jsx(Box,{sx:{border:'1px solid #ccc',borderRadius:2,height:300,overflow:'auto',p:1},children:/*#__PURE__*/_jsx(Tree,{data:mindmapData,orientation:\"horizontal\",translate:{x:250,y:150},renderCustomLinkElement:rd3tProps=>/*#__PURE__*/_jsx(CustomColoredLink,{...rd3tProps}),separation:{siblings:1.3,nonSiblings:1.4},pathFunc:\"diagonal\",nodeSize:{x:180,y:150}})}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"success\",sx:{mt:2,borderRadius:3,px:4,py:1,fontWeight:'bold'},onClick:()=>setShowSaveModal(true),children:\"\\u78BA\\u8A8D\\u753B\\u9762\\u3078\"})]})]}),mode===\"chat\"&&/*#__PURE__*/_jsxs(Paper,{sx:{p:4,mb:4,borderRadius:3},elevation:3,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",sx:{textAlign:'center',mb:3,color:'primary.main',fontWeight:'bold'},children:\"\\u30C1\\u30E3\\u30C3\\u30C8\\u30E2\\u30FC\\u30C9\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',height:'500px',maxWidth:'700px',margin:'0 auto',border:'1px solid #ccc',borderRadius:3,overflow:'hidden'},children:[/*#__PURE__*/_jsxs(Box,{sx:{flex:1,overflowY:'auto',p:2,display:'flex',flexDirection:'column',gap:1,backgroundColor:'#fdfdfd'},children:[chatMessages.map((msg,idx)=>/*#__PURE__*/_jsx(Box,{sx:{alignSelf:msg.sender==='user'?'flex-end':'flex-start',maxWidth:'80%'},children:/*#__PURE__*/_jsx(Paper,{sx:{p:1.5,my:0.5,borderRadius:2,backgroundColor:msg.sender==='user'?'#e3f2fd':'#ffffff',boxShadow:2},children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{whiteSpace:'pre-wrap',fontSize:'1rem'},children:msg.text})})},idx)),chatLoading&&/*#__PURE__*/_jsx(Box,{sx:{alignSelf:'flex-start',my:1},children:/*#__PURE__*/_jsx(Paper,{sx:{p:1.5,borderRadius:2,backgroundColor:'#fff',boxShadow:2},children:/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(CircularProgress,{size:20}),\"\\u751F\\u6210\\u4E2D...\"]})})})]}),/*#__PURE__*/_jsxs(Box,{sx:{borderTop:'1px solid #ccc',p:2,display:'flex',gap:1,backgroundColor:'#f0f0f0'},children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",size:\"small\",fullWidth:true,value:chatInput,onChange:e=>setChatInput(e.target.value),placeholder:\"\\u8CEA\\u554F\\u3092\\u5165\\u529B...(Enter\\u3067\\u6539\\u884C\\u3002\\u9001\\u4FE1\\u306F\\u30DC\\u30BF\\u30F3)\",sx:{borderRadius:2},multiline:true,rows:2}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:sendChatMessage,sx:{borderRadius:3,px:2,py:1,fontWeight:'bold',alignSelf:'end'},children:\"\\u9001\\u4FE1\"})]})]})]})]},mode)})]}),/*#__PURE__*/_jsxs(Dialog,{open:showSaveModal,onClose:()=>setShowSaveModal(false),fullWidth:true,maxWidth:\"md\",children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"\\u3053\\u306E\\u5185\\u5BB9\\u3067\\u4FDD\\u5B58\\u3057\\u307E\\u3059\"}),/*#__PURE__*/_jsxs(DialogContent,{dividers:true,children:[/*#__PURE__*/_jsxs(DialogContentText,{sx:{whiteSpace:\"pre-wrap\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u30BF\\u30A4\\u30C8\\u30EB:\"}),\" \",title]}),/*#__PURE__*/_jsxs(DialogContentText,{sx:{whiteSpace:\"pre-wrap\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u6587\\u5B57\\u8D77\\u3053\\u3057:\"}),\" \",notes]}),/*#__PURE__*/_jsxs(DialogContentText,{sx:{whiteSpace:\"pre-wrap\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u8B70\\u4E8B\\u9332\\u30FB\\u6539\\u5584\\u6848:\"}),\" \",summary]})]}),/*#__PURE__*/_jsxs(DialogActions,{sx:{justifyContent:'center'},children:[/*#__PURE__*/_jsx(Button,{onClick:saveToDatabase,variant:\"contained\",sx:{borderRadius:3,px:4,py:1,fontWeight:'bold'},children:\"\\u3053\\u306E\\u5185\\u5BB9\\u3067\\u4FDD\\u5B58\\u3059\\u308B\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setShowSaveModal(false),variant:\"outlined\",sx:{borderRadius:3,px:4,py:1,fontWeight:'bold'},children:\"\\u9589\\u3058\\u308B\"})]})]}),/*#__PURE__*/_jsx(Dialog,{open:loading,maxWidth:\"xs\",children:/*#__PURE__*/_jsxs(DialogContent,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsx(CircularProgress,{}),/*#__PURE__*/_jsx(DialogContentText,{sx:{mt:2},children:\"\\u8B70\\u4E8B\\u9332\\u3092\\u751F\\u6210\\u4E2D\\u3067\\u3059...\\u304A\\u5F85\\u3061\\u304F\\u3060\\u3055\\u3044\"})]})}),/*#__PURE__*/_jsxs(Dialog,{open:Boolean(saveStatus),onClose:()=>setSaveStatus(null),maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{children:saveStatus})}),/*#__PURE__*/_jsx(DialogActions,{sx:{justifyContent:'center'},children:/*#__PURE__*/_jsx(Button,{onClick:()=>setSaveStatus(null),variant:\"contained\",sx:{borderRadius:3,px:4,py:1,fontWeight:'bold'},children:\"\\u9589\\u3058\\u308B\"})})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","Tree","AppBar","Toolbar","Typography","Button","Drawer","List","ListItemButton","ListItemText","Box","Paper","TextField","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","CircularProgress","IconButton","createTheme","ThemeProvider","motion","AnimatePresence","ContentCopyIcon","jsx","_jsx","jsxs","_jsxs","theme","palette","primary","main","secondary","typography","fontFamily","join","fadeInVariants","hidden","opacity","y","visible","transition","duration","colorPalette","CustomColoredLink","_ref","linkDatum","orientation","strokeColor","source","depth","length","target","path","x","d","fill","stroke","strokeWidth","App","API_URL","notes","setNotes","summary","setSummary","mindmapData","setMindmapData","title","setTitle","recording","setRecording","recorded","setRecorded","showSaveModal","setShowSaveModal","loading","setLoading","saveStatus","setSaveStatus","savedMinutes","setSavedMinutes","selectedMinute","setSelectedMinute","sidebarOpen","setSidebarOpen","mediaRecorderRef","mediaStreamRef","audioChunks","setAudioChunks","localChunksRef","recordingTime","setRecordingTime","recordingTimerRef","mode","setMode","inputTranscript","setInputTranscript","chatMessages","setChatMessages","chatInput","setChatInput","chatLoading","setChatLoading","fetchSavedMinutes","res","fetch","ok","Error","data","json","sorted","minutes","sort","a","b","id","error","console","getSupportedMimeType","possibleTypes","t","MediaRecorder","isTypeSupported","formatRecordingTime","seconds","m","Math","floor","s","toString","padStart","startRecording","current","stream","navigator","mediaDevices","getUserMedia","audio","setInterval","prev","mimeType","mediaRecorder","ondataavailable","e","size","push","onstop","clearInterval","blob","Blob","type","log","sendAudioToServer","start","err","message","stopRecording","state","stop","getTracks","forEach","track","audioBlob","formData","FormData","append","File","method","body","statusText","formatted_transcript","analysis","mindmap","sendTextToServer","trim","alert","headers","JSON","stringify","raw_text","saveToDatabase","errorText","text","result","status","detail","deleteMinutes","window","confirm","handleCopyContent","content","clipboard","writeText","sendChatMessage","userMsg","sender","botMsg","response","closeSaveModal","toggleSidebar","children","sx","minHeight","background","position","variant","color","onClick","left","top","borderRadius","width","minWidth","height","fontSize","zIndex","bgcolor","backdropFilter","justifyContent","fontWeight","anchor","open","boxSizing","borderRight","pt","p","mb","map","minute","ml","display","gap","px","py","div","variants","initial","animate","exit","style","textAlign","right","lineHeight","whiteSpace","border","overflow","translate","renderCustomLinkElement","rd3tProps","separation","siblings","nonSiblings","pathFunc","nodeSize","elevation","flexDirection","alignItems","mt","label","fullWidth","value","onChange","multiline","rows","maxWidth","placeholder","margin","flex","overflowY","backgroundColor","msg","idx","alignSelf","my","boxShadow","borderTop","onClose","dividers","Boolean"],"sources":["/Users/asyuyukiume/AI学習/議事録　テスト/fronttest/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport Tree from 'react-d3-tree';\n\n// ======== MUI & その他 ========\nimport {\n  AppBar,\n  Toolbar,\n  Typography,\n  Button,\n  Drawer,\n  List,\n  ListItemButton,\n  ListItemText,\n  Box,\n  Paper,\n  TextField,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  DialogActions,\n  CircularProgress,\n  IconButton\n} from '@mui/material';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\n\n/** テーマ設定 */\nconst theme = createTheme({\n  palette: {\n    primary: { main: '#1976d2' },\n    secondary: { main: '#00f2fe' },\n  },\n  typography: {\n    fontFamily: [\n      'Montserrat',\n      'Playfair Display',\n      'Roboto',\n      '\"Helvetica Neue\"',\n      'Arial',\n      'sans-serif',\n    ].join(','),\n  },\n});\n\n// アニメーション用バリアント\nconst fadeInVariants = {\n  hidden: { opacity: 0, y: -10 },\n  visible: { opacity: 1, y: 0, transition: { duration: 0.5 } },\n};\n\n/**\n * 枝のカスタム描画用コンポーネント\n * ここで linkDatum.source.depth などを使って色を分岐させる\n */\nconst colorPalette = ['#cc00cc', '#ff4500', '#00aaff', '#ff00ff', '#ff8c00', '#228b22'];\nfunction CustomColoredLink({ linkDatum, orientation }) {\n  // 階層（depth）に応じて色を切り替えたり、あるいは子ノードの情報で分岐させてもOK\n  const strokeColor = colorPalette[linkDatum.source.depth % colorPalette.length];\n\n  // \"diagonal\" パス計算（横向きレイアウト用）\n  // ここでは簡易的にベジェ曲線で左右に伸びる対角線を作成\n  const { source, target } = linkDatum;\n  // x=横軸, y=縦軸で、横向きの場合は X が左右, Y が上下\n  const path = `M${source.x},${source.y}\n                C${(source.x + target.x) / 2},${source.y},\n                ${(source.x + target.x) / 2},${target.y},\n                ${target.x},${target.y}`;\n\n  return (\n    <path\n      d={path}\n      fill=\"none\"\n      stroke={strokeColor}\n      strokeWidth=\"3\"\n    />\n  );\n}\n\nfunction App() {\n  const API_URL = \"http://localhost:8000\";\n\n  // --------------------------\n  // ステート類（議事録表示・生成）\n  // --------------------------\n  const [notes, setNotes] = useState('ここに文字起こしが表示されます');\n  const [summary, setSummary] = useState('ここに議事録・改善案が表示されます');\n  const [mindmapData, setMindmapData] = useState(null);\n  const [title, setTitle] = useState('');\n\n  const [recording, setRecording] = useState(false);\n  const [recorded, setRecorded] = useState(false);\n  const [showSaveModal, setShowSaveModal] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [saveStatus, setSaveStatus] = useState(null);\n\n  // 保存済み議事録\n  const [savedMinutes, setSavedMinutes] = useState([]);\n  const [selectedMinute, setSelectedMinute] = useState(null);\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n\n  // 録音関連\n  const mediaRecorderRef = useRef(null);\n  const mediaStreamRef = useRef(null);\n  const [audioChunks, setAudioChunks] = useState([]);\n  const localChunksRef = useRef([]);\n\n  // 録音時間カウンター\n  const [recordingTime, setRecordingTime] = useState(0);\n  const recordingTimerRef = useRef(null);\n\n  // モード: audio / text / chat\n  const [mode, setMode] = useState(\"audio\");\n  const [inputTranscript, setInputTranscript] = useState(\"\");\n\n  // チャットモード\n  const [chatMessages, setChatMessages] = useState([]);\n  const [chatInput, setChatInput] = useState(\"\");\n  const [chatLoading, setChatLoading] = useState(false);\n\n  // --------------------------\n  // 1) 保存済み議事録を取得\n  // --------------------------\n  const fetchSavedMinutes = async () => {\n    try {\n      const res = await fetch(`${API_URL}/get-minutes`);\n      if (!res.ok) throw new Error('保存された議事録の取得に失敗しました');\n      const data = await res.json();\n      const sorted = data.minutes.sort((a, b) => b.id - a.id);\n      setSavedMinutes(sorted);\n    } catch (error) {\n      console.error('Error fetching saved minutes:', error);\n    }\n  };\n\n  useEffect(() => {\n    fetchSavedMinutes();\n  }, []);\n\n  /**\n   * ブラウザがサポートする録音mimeTypeを順に探す\n   */\n  function getSupportedMimeType() {\n    const possibleTypes = [\n      \"audio/webm;codecs=opus\",\n      \"audio/ogg;codecs=opus\",\n      \"audio/webm\",\n      \"audio/ogg\"\n    ];\n    for (const t of possibleTypes) {\n      if (MediaRecorder.isTypeSupported(t)) {\n        return t;\n      }\n    }\n    return \"\";\n  }\n\n  // 録音時間を mm:ss フォーマットに変換\n  const formatRecordingTime = (seconds) => {\n    const m = Math.floor(seconds / 60);\n    const s = seconds % 60;\n    return `${m}:${s.toString().padStart(2, '0')}`;\n  };\n\n  // ====================================================\n  // 録音開始\n  // ====================================================\n  const startRecording = async () => {\n    setRecording(true);\n    setRecorded(false);\n    setAudioChunks([]);\n    localChunksRef.current = [];\n    setNotes('録音が開始されました');\n    setSummary('会議中...');\n    setRecordingTime(0);\n\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      mediaStreamRef.current = stream;\n\n      // 録音時間カウント開始\n      recordingTimerRef.current = setInterval(() => {\n        setRecordingTime(prev => prev + 1);\n      }, 1000);\n\n      const mimeType = getSupportedMimeType() || \"audio/webm\";\n      const mediaRecorder = new MediaRecorder(stream, { mimeType });\n      mediaRecorder.ondataavailable = (e) => {\n        if (e.data.size > 0) {\n          localChunksRef.current.push(e.data);\n        }\n      };\n      mediaRecorder.onstop = async () => {\n        // タイマー停止\n        if (recordingTimerRef.current) {\n          clearInterval(recordingTimerRef.current);\n          recordingTimerRef.current = null;\n        }\n\n        const blob = new Blob(localChunksRef.current, { type: mimeType });\n        localChunksRef.current = [];\n        setAudioChunks((prev) => [...prev, blob]);\n        console.log(\"🎙️ 録音終了: Blob 作成済み\", blob.size);\n\n        setRecording(false);\n        setRecorded(true);\n        setNotes(\"録音が停止しました。文字起こしを準備中...\");\n\n        // サーバー送信\n        await sendAudioToServer(blob);\n      };\n      mediaRecorderRef.current = mediaRecorder;\n      mediaRecorder.start();\n      console.log(\"🎙️ 録音開始\");\n    } catch (err) {\n      console.error('録音開始失敗:', err);\n      setNotes('録音開始に失敗しました: ' + err.message);\n      setRecording(false);\n    }\n  };\n\n  // ====================================================\n  // 録音停止\n  // ====================================================\n  const stopRecording = async () => {\n    if (recordingTimerRef.current) {\n      clearInterval(recordingTimerRef.current);\n      recordingTimerRef.current = null;\n    }\n\n    if (mediaRecorderRef.current && mediaRecorderRef.current.state === \"recording\") {\n      mediaRecorderRef.current.stop();\n    }\n    if (mediaStreamRef.current) {\n      mediaStreamRef.current.getTracks().forEach((track) => track.stop());\n    }\n    console.log(\"🛑 録音停止要求\");\n  };\n\n  // --------------------------\n  // 録音データをサーバーに送信\n  // --------------------------\n  const sendAudioToServer = async (audioBlob) => {\n    setLoading(true);\n    try {\n      const formData = new FormData();\n      formData.append('audio', new File([audioBlob], 'recording.webm', { type: audioBlob.type }));\n\n      console.log(\"📤 /transcribe へ POST. blobSize=\", audioBlob.size);\n      const res = await fetch(`${API_URL}/transcribe`, {\n        method: 'POST',\n        body: formData,\n      });\n      if (!res.ok) {\n        throw new Error(`サーバーエラー: ${res.statusText}`);\n      }\n      const data = await res.json();\n      console.log(\"🧠 文字起こし & 議事録結果:\", data);\n\n      setNotes(data.formatted_transcript);\n      setSummary(data.analysis);\n      setMindmapData(data.mindmap);\n      setTitle(data.title);\n    } catch (err) {\n      console.error('通信エラー:', err);\n      setNotes('通信エラーが発生しました');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ====================================================\n  // テキストモード: 議事録生成\n  // ====================================================\n  const sendTextToServer = async () => {\n    if (!inputTranscript.trim()) {\n      alert(\"テキストが空です。\");\n      return;\n    }\n    try {\n      setLoading(true);\n      const res = await fetch(`${API_URL}/transcribe-text`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ raw_text: inputTranscript }),\n      });\n      if (!res.ok) throw new Error(`サーバーエラー: ${res.statusText}`);\n      const data = await res.json();\n\n      setNotes(data.formatted_transcript);\n      setSummary(data.analysis);\n      setMindmapData(data.mindmap);\n      setTitle(data.title);\n      setRecorded(true);\n    } catch (err) {\n      console.error('テキストモード失敗:', err);\n      setNotes('テキスト議事録の生成中にエラーが発生しました。');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // --------------------------\n  // 保存・削除など\n  // --------------------------\n  const saveToDatabase = async () => {\n    try {\n      const res = await fetch(`${API_URL}/save-minutes`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          formatted_transcript: notes,\n          analysis: summary,\n          mindmap: mindmapData,\n          title: title,\n        }),\n      });\n      if (!res.ok) {\n        const errorText = await res.text();\n        throw new Error(`保存に失敗しました: ${errorText}`);\n      }\n      const result = await res.json();\n      if (result.status === 'success') {\n        setSaveStatus('保存が完了しました！');\n        setShowSaveModal(false);\n        fetchSavedMinutes();\n      } else {\n        setSaveStatus('保存に失敗しました: ' + (result.detail || ''));\n      }\n    } catch (err) {\n      console.error('保存失敗:', err);\n      setSaveStatus(err.message || '保存中にエラーが発生しました');\n    }\n  };\n\n  const deleteMinutes = async (id) => {\n    if (!window.confirm(\"本当に削除しますか？\")) return;\n    try {\n      const res = await fetch(`${API_URL}/delete-minutes/${id}`, {\n        method: 'DELETE',\n      });\n      if (!res.ok) {\n        const errorText = await res.text();\n        throw new Error(`削除に失敗しました: ${errorText}`);\n      }\n      const result = await res.json();\n      if (result.status === 'success') {\n        alert('削除しました');\n        fetchSavedMinutes();\n        if (selectedMinute && selectedMinute.id === id) {\n          setSelectedMinute(null);\n        }\n      } else {\n        alert('削除に失敗: ' + result.detail);\n      }\n    } catch (err) {\n      console.error('削除エラー:', err);\n      alert('削除中にエラーが発生しました');\n    }\n  };\n\n  const handleCopyContent = async (content) => {\n    try {\n      await navigator.clipboard.writeText(content);\n      alert('コピーしました!');\n    } catch (err) {\n      console.error('コピー失敗:', err);\n      alert('コピーに失敗しました');\n    }\n  };\n\n  // --------------------------\n  // チャットモード\n  // --------------------------\n  const sendChatMessage = async () => {\n    if (!chatInput.trim()) return;\n    const userMsg = { sender: 'user', text: chatInput };\n    setChatMessages((prev) => [...prev, userMsg]);\n    setChatInput(\"\");\n    try {\n      setChatLoading(true);\n      const res = await fetch(`${API_URL}/chatbot`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ message: userMsg.text }),\n      });\n      if (!res.ok) {\n        throw new Error(`サーバーエラー: ${res.statusText}`);\n      }\n      const data = await res.json();\n      const botMsg = { sender: 'bot', text: data.response };\n      setChatMessages((prev) => [...prev, botMsg]);\n    } catch (err) {\n      console.error(\"チャットbotエラー:\", err);\n      const botMsg = { sender: 'bot', text: \"エラーが発生しました。\" };\n      setChatMessages((prev) => [...prev, botMsg]);\n    } finally {\n      setChatLoading(false);\n    }\n  };\n\n  // その他\n  const closeSaveModal = () => {\n    setSaveStatus(null);\n  };\n  const toggleSidebar = () => {\n    setSidebarOpen(!sidebarOpen);\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Box\n        sx={{\n          minHeight: '100vh',\n          background: 'linear-gradient(to bottom right, #f0f9ff, #cfe9ff, #eef6ff)',\n          position: 'relative',\n        }}\n      >\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={toggleSidebar}\n          sx={{\n            position: 'absolute',\n            left: 10,\n            top: 20,\n            borderRadius: '50%',\n            width: 45,\n            minWidth: 45,\n            height: 45,\n            fontSize: '1rem',\n            zIndex: 2000,\n          }}\n        >\n          {sidebarOpen ? '←' : '→'}\n        </Button>\n        <AppBar position=\"sticky\" sx={{ bgcolor: 'rgba(255,255,255,0.8)', backdropFilter: 'blur(8px)' }}>\n          <Toolbar sx={{ justifyContent: 'center' }}>\n            <Typography variant=\"h4\" sx={{ color: 'primary.main', fontWeight: 'bold' }}>\n              Conect AI\n            </Typography>\n          </Toolbar>\n        </AppBar>\n        <Drawer\n          variant=\"persistent\"\n          anchor=\"left\"\n          open={sidebarOpen}\n          sx={{\n            '& .MuiDrawer-paper': {\n              width: 240,\n              boxSizing: 'border-box',\n              borderRight: '1px solid #eee',\n              bgcolor: 'rgba(255,255,255,0.85)',\n              backdropFilter: 'blur(6px)',\n              pt: 8,\n            },\n          }}\n        >\n          <Box sx={{ p: 2 }}>\n            <Typography variant=\"subtitle1\" sx={{ mb: 1, fontWeight: 'bold', color: '#1976d2' }}>\n              保存した議事録\n            </Typography>\n            <List>\n              {savedMinutes.length > 0 ? (\n                savedMinutes.map((minute) => (\n                  <ListItemButton\n                    key={minute.id}\n                    onClick={() => {\n                      setSelectedMinute(minute);\n                      setShowSaveModal(false);\n                    }}\n                  >\n                    <ListItemText primary={minute.title} />\n                  </ListItemButton>\n                ))\n              ) : (\n                <ListItemButton>\n                  <ListItemText primary=\"保存された議事録はありません\" />\n                </ListItemButton>\n              )}\n            </List>\n          </Box>\n        </Drawer>\n        <Box\n          sx={{\n            ml: sidebarOpen ? '240px' : 2,\n            p: 3,\n            pt: 10,\n            transition: 'margin-left 0.3s ease',\n          }}\n        >\n          <Box sx={{ display: 'flex', justifyContent: 'center', gap: 2, mb: 3 }}>\n            <Button\n              variant={mode === 'audio' ? 'contained' : 'outlined'}\n              sx={{ borderRadius: 3, px: 4, py: 1, fontWeight: 'bold' }}\n              onClick={() => setMode('audio')}\n            >\n              音声モード\n            </Button>\n            <Button\n              variant={mode === 'text' ? 'contained' : 'outlined'}\n              sx={{ borderRadius: 3, px: 4, py: 1, fontWeight: 'bold' }}\n              onClick={() => setMode('text')}\n            >\n              テキストモード\n            </Button>\n            <Button\n              variant={mode === 'chat' ? 'contained' : 'outlined'}\n              sx={{ borderRadius: 3, px: 4, py: 1, fontWeight: 'bold' }}\n              onClick={() => setMode('chat')}\n            >\n              チャットモード\n            </Button>\n          </Box>\n          <AnimatePresence>\n            {selectedMinute ? (\n              // --------------------------\n              // 保存済み議事録の詳細表示\n              // --------------------------\n              <motion.div\n                key=\"detailView\"\n                variants={fadeInVariants}\n                initial=\"hidden\"\n                animate=\"visible\"\n                exit={{ opacity: 0 }}\n                style={{ position: 'relative' }}\n              >\n                <Button\n                  variant=\"contained\"\n                  onClick={() => setSelectedMinute(null)}\n                  sx={{\n                    position: 'absolute',\n                    left: 10,\n                    top: 10,\n                    borderRadius: 3,\n                    px: 4,\n                    py: 1,\n                    fontWeight: 'bold',\n                    zIndex: 1000,\n                  }}\n                >\n                  戻る\n                </Button>\n                <Typography\n                  variant=\"h5\"\n                  sx={{\n                    fontWeight: 'bold',\n                    color: 'primary.main',\n                    textAlign: 'center',\n                    mb: 4,\n                  }}\n                >\n                  {selectedMinute.title}\n                </Typography>\n                <Paper sx={{ p: 3, mb: 3, position: 'relative', borderRadius: 3 }}>\n                  <Typography\n                    variant=\"subtitle1\"\n                    sx={{\n                      fontWeight: 'bold',\n                      color: 'secondary.main',\n                      mb: 2,\n                      fontSize: '1.2rem',\n                    }}\n                  >\n                    整形された文字起こし\n                  </Typography>\n                  <IconButton\n                    size=\"small\"\n                    sx={{ position: 'absolute', top: 8, right: 8 }}\n                    onClick={() => handleCopyContent(selectedMinute.formatted_transcript)}\n                  >\n                    <ContentCopyIcon fontSize=\"small\" />\n                  </IconButton>\n                  <Typography\n                    variant=\"body1\"\n                    sx={{ fontSize: '1.1rem', fontWeight: 'bold', lineHeight: 1.6, whiteSpace: 'pre-wrap' }}\n                  >\n                    {selectedMinute.formatted_transcript}\n                  </Typography>\n                </Paper>\n                <Paper sx={{ p: 3, mb: 3, position: 'relative', borderRadius: 3 }}>\n                  <Typography\n                    variant=\"subtitle1\"\n                    sx={{\n                      fontWeight: 'bold',\n                      color: 'secondary.main',\n                      mb: 2,\n                      fontSize: '1.2rem',\n                    }}\n                  >\n                    議事録・改善案\n                  </Typography>\n                  <IconButton\n                    size=\"small\"\n                    sx={{ position: 'absolute', top: 8, right: 8 }}\n                    onClick={() => handleCopyContent(selectedMinute.analysis)}\n                  >\n                    <ContentCopyIcon fontSize=\"small\" />\n                  </IconButton>\n                  <Typography\n                    variant=\"body1\"\n                    sx={{ fontSize: '1.1rem', fontWeight: 'bold', lineHeight: 1.6, whiteSpace: 'pre-wrap' }}\n                  >\n                    {selectedMinute.analysis}\n                  </Typography>\n                </Paper>\n                {selectedMinute.mindmap && (\n                  <Paper sx={{ p: 3, mb: 3, borderRadius: 3 }}>\n                    <Typography\n                      variant=\"subtitle1\"\n                      sx={{\n                        fontWeight: 'bold',\n                        color: 'secondary.main',\n                        mb: 2,\n                        fontSize: '1.2rem',\n                      }}\n                    >\n                      マインドマップ\n                    </Typography>\n                    <Box sx={{ border: '1px solid #ccc', borderRadius: 2, height: '600px', overflow: 'auto' }}>\n                      {/*\n                        orientation=\"horizontal\" で左右に広がる\n                        renderCustomLinkElement でカラフルな枝を描画\n                        translate で中央寄せ\n                      */}\n                      <Tree\n                        data={selectedMinute.mindmap}\n                        orientation=\"horizontal\"\n                        translate={{ x: 400, y: 300 }}\n                        renderCustomLinkElement={(rd3tProps) => (\n                          <CustomColoredLink {...rd3tProps} />\n                        )}\n                        // separation でノード間隔を調整\n                        separation={{ siblings: 1.3, nonSiblings: 1.4 }}\n                        // デフォルトパスの代わりに自分で描画するので pathFunc は無効でもOK\n                        pathFunc=\"diagonal\"\n                        // ノードサイズを大きめに\n                        nodeSize={{ x: 180, y: 200 }}\n                      />\n                    </Box>\n                  </Paper>\n                )}\n                <Box sx={{ display: 'flex', justifyContent: 'center' }}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"error\"\n                    onClick={() => deleteMinutes(selectedMinute.id)}\n                    sx={{ borderRadius: 3, px: 4, py: 1, fontWeight: 'bold' }}\n                  >\n                    この議事録を削除\n                  </Button>\n                </Box>\n              </motion.div>\n            ) : (\n              // --------------------------\n              // 新規録音 or テキスト or チャット\n              // --------------------------\n              <motion.div key={mode} variants={fadeInVariants} initial=\"hidden\" animate=\"visible\" exit={{ opacity: 0 }}>\n                {mode === \"audio\" && (\n                  <Paper sx={{ p: 4, mb: 4, borderRadius: 3 }} elevation={3}>\n                    <Typography variant=\"h5\" sx={{ textAlign: 'center', mb: 3, color: 'primary.main', fontWeight: 'bold' }}>\n                      音声モード\n                    </Typography>\n                    <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', gap: 2 }}>\n                      {!recording ? (\n                        <Button\n                          variant=\"contained\"\n                          color=\"primary\"\n                          onClick={startRecording}\n                          sx={{ borderRadius: 3, px: 4, py: 1, fontWeight: 'bold' }}\n                        >\n                          録音開始\n                        </Button>\n                      ) : (\n                        <Button\n                          variant=\"contained\"\n                          color=\"secondary\"\n                          onClick={stopRecording}\n                          sx={{ borderRadius: 3, px: 4, py: 1, fontWeight: 'bold' }}\n                        >\n                          録音停止\n                        </Button>\n                      )}\n                      {recording && (\n                        <Typography variant=\"body1\" sx={{ mt: 1, fontWeight: 'bold', fontSize: '1rem' }}>\n                          録音中... ({formatRecordingTime(recordingTime)})\n                        </Typography>\n                      )}\n                    </Box>\n\n                    {/* 録音後のプレビュー */}\n                    {recorded && (\n                      <Box sx={{ mt: 4 }}>\n                        <Typography variant=\"h6\" sx={{ mb: 2, color: 'primary.main', fontWeight: 'bold' }}>\n                          生成結果プレビュー\n                        </Typography>\n                        <TextField\n                          label=\"タイトル\"\n                          fullWidth\n                          variant=\"outlined\"\n                          size=\"small\"\n                          value={title}\n                          onChange={(e) => setTitle(e.target.value)}\n                          sx={{ mb: 2 }}\n                        />\n                        <Typography sx={{ fontWeight: 'bold', mb: 1 }}>文字起こし</Typography>\n                        <TextField\n                          multiline\n                          rows={3}\n                          fullWidth\n                          variant=\"outlined\"\n                          size=\"small\"\n                          value={notes}\n                          onChange={(e) => setNotes(e.target.value)}\n                          sx={{ mb: 2 }}\n                        />\n\n                        <Typography sx={{ fontWeight: 'bold', mb: 1 }}>議事録・改善案</Typography>\n                        <TextField\n                          multiline\n                          rows={3}\n                          fullWidth\n                          variant=\"outlined\"\n                          size=\"small\"\n                          value={summary}\n                          onChange={(e) => setSummary(e.target.value)}\n                          sx={{ mb: 2 }}\n                        />\n\n                        {mindmapData && (\n                          <Box sx={{ border: '1px solid #ccc', borderRadius: 2, height: 300, overflow: 'auto', p: 1 }}>\n                            {/* \n                              同じくプレビュー側でも左右に伸びる形 + カラフルリンク \n                            */}\n                            <Tree\n                              data={mindmapData}\n                              orientation=\"horizontal\"\n                              translate={{ x: 300, y: 150 }}\n                              renderCustomLinkElement={(rd3tProps) => (\n                                <CustomColoredLink {...rd3tProps} />\n                              )}\n                              separation={{ siblings: 1.3, nonSiblings: 1.4 }}\n                              pathFunc=\"diagonal\"\n                              nodeSize={{ x: 180, y: 150 }}\n                            />\n                          </Box>\n                        )}\n\n                        <Button\n                          variant=\"contained\"\n                          color=\"success\"\n                          sx={{ mt: 2, borderRadius: 3, px: 4, py: 1, fontWeight: 'bold' }}\n                          onClick={() => setShowSaveModal(true)}\n                        >\n                          確認画面へ\n                        </Button>\n                      </Box>\n                    )}\n                  </Paper>\n                )}\n\n                {mode === \"text\" && (\n                  <Paper sx={{ p: 4, mb: 4, borderRadius: 3 }} elevation={3}>\n                    <Typography variant=\"h5\" sx={{ textAlign: 'center', mb: 3, color: 'primary.main', fontWeight: 'bold' }}>\n                      テキストモード\n                    </Typography>\n                    <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', gap: 2 }}>\n                      <TextField\n                        fullWidth\n                        multiline\n                        rows={4}\n                        variant=\"outlined\"\n                        size=\"small\"\n                        sx={{ maxWidth: '600px', fontSize: '1.1rem', fontWeight: 'bold', borderRadius: 2 }}\n                        value={inputTranscript}\n                        onChange={(e) => setInputTranscript(e.target.value)}\n                        placeholder=\"ここにテキストを貼り付けてください\"\n                      />\n                      <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={sendTextToServer}\n                        sx={{ borderRadius: 3, px: 4, py: 1, fontWeight: 'bold' }}\n                      >\n                        議事録生成\n                      </Button>\n                    </Box>\n\n                    {recorded && (\n                      <Box sx={{ mt: 4 }}>\n                        <Typography variant=\"h6\" sx={{ mb: 2, color: 'primary.main', fontWeight: 'bold' }}>\n                          生成結果プレビュー\n                        </Typography>\n                        <TextField\n                          label=\"タイトル\"\n                          fullWidth\n                          variant=\"outlined\"\n                          size=\"small\"\n                          value={title}\n                          onChange={(e) => setTitle(e.target.value)}\n                          sx={{ mb: 2 }}\n                        />\n                        <Typography sx={{ fontWeight: 'bold', mb: 1 }}>文字起こし</Typography>\n                        <TextField\n                          multiline\n                          rows={3}\n                          fullWidth\n                          variant=\"outlined\"\n                          size=\"small\"\n                          value={notes}\n                          onChange={(e) => setNotes(e.target.value)}\n                          sx={{ mb: 2 }}\n                        />\n\n                        <Typography sx={{ fontWeight: 'bold', mb: 1 }}>議事録・改善案</Typography>\n                        <TextField\n                          multiline\n                          rows={3}\n                          fullWidth\n                          variant=\"outlined\"\n                          size=\"small\"\n                          value={summary}\n                          onChange={(e) => setSummary(e.target.value)}\n                          sx={{ mb: 2 }}\n                        />\n\n                        {mindmapData && (\n                          <Box sx={{ border: '1px solid #ccc', borderRadius: 2, height: 300, overflow: 'auto', p: 1 }}>\n                            <Tree\n                              data={mindmapData}\n                              orientation=\"horizontal\"\n                              translate={{ x: 250, y: 150 }}\n                              renderCustomLinkElement={(rd3tProps) => (\n                                <CustomColoredLink {...rd3tProps} />\n                              )}\n                              separation={{ siblings: 1.3, nonSiblings: 1.4 }}\n                              pathFunc=\"diagonal\"\n                              nodeSize={{ x: 180, y: 150 }}\n                            />\n                          </Box>\n                        )}\n\n                        <Button\n                          variant=\"contained\"\n                          color=\"success\"\n                          sx={{ mt: 2, borderRadius: 3, px: 4, py: 1, fontWeight: 'bold' }}\n                          onClick={() => setShowSaveModal(true)}\n                        >\n                          確認画面へ\n                        </Button>\n                      </Box>\n                    )}\n                  </Paper>\n                )}\n\n                {mode === \"chat\" && (\n                  <Paper sx={{ p: 4, mb: 4, borderRadius: 3 }} elevation={3}>\n                    <Typography variant=\"h5\" sx={{ textAlign: 'center', mb: 3, color: 'primary.main', fontWeight: 'bold' }}>\n                      チャットモード\n                    </Typography>\n                    <Box\n                      sx={{\n                        display: 'flex',\n                        flexDirection: 'column',\n                        height: '500px',\n                        maxWidth: '700px',\n                        margin: '0 auto',\n                        border: '1px solid #ccc',\n                        borderRadius: 3,\n                        overflow: 'hidden',\n                      }}\n                    >\n                      <Box\n                        sx={{\n                          flex: 1,\n                          overflowY: 'auto',\n                          p: 2,\n                          display: 'flex',\n                          flexDirection: 'column',\n                          gap: 1,\n                          backgroundColor: '#fdfdfd',\n                        }}\n                      >\n                        {chatMessages.map((msg, idx) => (\n                          <Box key={idx} sx={{ alignSelf: msg.sender === 'user' ? 'flex-end' : 'flex-start', maxWidth: '80%' }}>\n                            <Paper\n                              sx={{\n                                p: 1.5,\n                                my: 0.5,\n                                borderRadius: 2,\n                                backgroundColor: msg.sender === 'user' ? '#e3f2fd' : '#ffffff',\n                                boxShadow: 2,\n                              }}\n                            >\n                              <Typography variant=\"body1\" sx={{ whiteSpace: 'pre-wrap', fontSize: '1rem' }}>\n                                {msg.text}\n                              </Typography>\n                            </Paper>\n                          </Box>\n                        ))}\n                        {chatLoading && (\n                          <Box sx={{ alignSelf: 'flex-start', my: 1 }}>\n                            <Paper sx={{ p: 1.5, borderRadius: 2, backgroundColor: '#fff', boxShadow: 2 }}>\n                              <Typography variant=\"body1\" sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                                <CircularProgress size={20} />\n                                生成中...\n                              </Typography>\n                            </Paper>\n                          </Box>\n                        )}\n                      </Box>\n                      <Box\n                        sx={{\n                          borderTop: '1px solid #ccc',\n                          p: 2,\n                          display: 'flex',\n                          gap: 1,\n                          backgroundColor: '#f0f0f0',\n                        }}\n                      >\n                        <TextField\n                          variant=\"outlined\"\n                          size=\"small\"\n                          fullWidth\n                          value={chatInput}\n                          onChange={(e) => setChatInput(e.target.value)}\n                          placeholder=\"質問を入力...(Enterで改行。送信はボタン)\"\n                          sx={{ borderRadius: 2 }}\n                          multiline\n                          rows={2}\n                        />\n                        <Button\n                          variant=\"contained\"\n                          onClick={sendChatMessage}\n                          sx={{ borderRadius: 3, px: 2, py: 1, fontWeight: 'bold', alignSelf: 'end' }}\n                        >\n                          送信\n                        </Button>\n                      </Box>\n                    </Box>\n                  </Paper>\n                )}\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </Box>\n        <Dialog open={showSaveModal} onClose={() => setShowSaveModal(false)} fullWidth maxWidth=\"md\">\n          <DialogTitle>この内容で保存します</DialogTitle>\n          <DialogContent dividers>\n            <DialogContentText sx={{ whiteSpace: \"pre-wrap\" }}>\n              <strong>タイトル:</strong> {title}\n            </DialogContentText>\n            <DialogContentText sx={{ whiteSpace: \"pre-wrap\" }}>\n              <strong>文字起こし:</strong> {notes}\n            </DialogContentText>\n            <DialogContentText sx={{ whiteSpace: \"pre-wrap\" }}>\n              <strong>議事録・改善案:</strong> {summary}\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions sx={{ justifyContent: 'center' }}>\n            <Button onClick={saveToDatabase} variant=\"contained\" sx={{ borderRadius: 3, px: 4, py: 1, fontWeight: 'bold' }}>\n              この内容で保存する\n            </Button>\n            <Button onClick={() => setShowSaveModal(false)} variant=\"outlined\" sx={{ borderRadius: 3, px: 4, py: 1, fontWeight: 'bold' }}>\n              閉じる\n            </Button>\n          </DialogActions>\n        </Dialog>\n\n        <Dialog open={loading} maxWidth=\"xs\">\n          <DialogContent sx={{ textAlign: 'center' }}>\n            <CircularProgress />\n            <DialogContentText sx={{ mt: 2 }}>\n              議事録を生成中です...お待ちください\n            </DialogContentText>\n          </DialogContent>\n        </Dialog>\n        <Dialog open={Boolean(saveStatus)} onClose={() => setSaveStatus(null)} maxWidth=\"xs\">\n          <DialogContent>\n            <DialogContentText>{saveStatus}</DialogContentText>\n          </DialogContent>\n          <DialogActions sx={{ justifyContent: 'center' }}>\n            <Button onClick={() => setSaveStatus(null)} variant=\"contained\" sx={{ borderRadius: 3, px: 4, py: 1, fontWeight: 'bold' }}>\n              閉じる\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </Box>\n    </ThemeProvider>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}