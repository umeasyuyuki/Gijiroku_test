{"ast":null,"code":"export const createMidiInputs = wrapSubscribeFunction => {\n  return midiAccess => wrapSubscribeFunction(observer => {\n    let midiInputs = Array.from(midiAccess.inputs.values());\n    const emitMidiInputs = () => {\n      const midiAccessInputs = midiAccess.inputs;\n      if (midiInputs.length !== midiAccessInputs.size || midiInputs.some(({\n        id\n      }) => !midiAccessInputs.has(id))) {\n        midiInputs = Array.from(midiAccessInputs.values());\n        observer.next(midiInputs);\n      }\n    };\n    observer.next(midiInputs);\n    midiAccess.addEventListener('statechange', emitMidiInputs);\n    return () => midiAccess.removeEventListener('statechange', emitMidiInputs);\n  });\n};","map":{"version":3,"names":["createMidiInputs","wrapSubscribeFunction","midiAccess","observer","midiInputs","Array","from","inputs","values","emitMidiInputs","midiAccessInputs","length","size","some","id","has","next","addEventListener","removeEventListener"],"sources":["/Users/asyuyukiume/AI学習/議事録　テスト/fronttest/node_modules/subscribable-things/src/factories/midi-inputs.ts"],"sourcesContent":["import { TMidiInputsFactory } from '../types';\n\nexport const createMidiInputs: TMidiInputsFactory = (wrapSubscribeFunction) => {\n    return (midiAccess) =>\n        wrapSubscribeFunction((observer) => {\n            let midiInputs = Array.from(midiAccess.inputs.values());\n\n            const emitMidiInputs = () => {\n                const midiAccessInputs = midiAccess.inputs;\n\n                if (midiInputs.length !== midiAccessInputs.size || midiInputs.some(({ id }) => !midiAccessInputs.has(id))) {\n                    midiInputs = Array.from(midiAccessInputs.values());\n\n                    observer.next(midiInputs);\n                }\n            };\n\n            observer.next(midiInputs);\n            midiAccess.addEventListener('statechange', emitMidiInputs);\n\n            return () => midiAccess.removeEventListener('statechange', emitMidiInputs);\n        });\n};\n"],"mappings":"AAEA,OAAO,MAAMA,gBAAgB,GAAwBC,qBAAqB,IAAI;EAC1E,OAAQC,UAAU,IACdD,qBAAqB,CAAEE,QAAQ,IAAI;IAC/B,IAAIC,UAAU,GAAGC,KAAK,CAACC,IAAI,CAACJ,UAAU,CAACK,MAAM,CAACC,MAAM,EAAE,CAAC;IAEvD,MAAMC,cAAc,GAAGA,CAAA,KAAK;MACxB,MAAMC,gBAAgB,GAAGR,UAAU,CAACK,MAAM;MAE1C,IAAIH,UAAU,CAACO,MAAM,KAAKD,gBAAgB,CAACE,IAAI,IAAIR,UAAU,CAACS,IAAI,CAAC,CAAC;QAAEC;MAAE,CAAE,KAAK,CAACJ,gBAAgB,CAACK,GAAG,CAACD,EAAE,CAAC,CAAC,EAAE;QACvGV,UAAU,GAAGC,KAAK,CAACC,IAAI,CAACI,gBAAgB,CAACF,MAAM,EAAE,CAAC;QAElDL,QAAQ,CAACa,IAAI,CAACZ,UAAU,CAAC;MAC7B;IACJ,CAAC;IAEDD,QAAQ,CAACa,IAAI,CAACZ,UAAU,CAAC;IACzBF,UAAU,CAACe,gBAAgB,CAAC,aAAa,EAAER,cAAc,CAAC;IAE1D,OAAO,MAAMP,UAAU,CAACgB,mBAAmB,CAAC,aAAa,EAAET,cAAc,CAAC;EAC9E,CAAC,CAAC;AACV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}